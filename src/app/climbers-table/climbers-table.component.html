<div class="table-container">
    <table id="climbers-table">
        <thead>
            <tr>
                <th id="table-date">Heure du scan</th>
                <th id="table-name">NOM Prénom</th>
                <th id="table-id">N° de licence</th>
                <th id="table-year">Année de validité</th>
                <th id="table-club">Club</th>
                <th id="table-birthdate">Date de naissance</th>
                <th id="table-passport">Passeport</th>
                <th>🗑</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let climber of climbers">
                <!--
                    <th>Nom</th>
                    <th>N° de licence</th>
                    <th>Année de validité</th>
                    <th>Club</th>
                    <th>Année de naissance</th>
                    <th>Passeport</th>
                    <th>/* Boutons */</th>
                 -->

                <td>{{climber.scanTime | date:'dd/MM/yyyy HH:mm' }}</td>
                <td>{{climber.name}}</td>
                <td>{{climber.id}}</td>
                <td [class.invalid]="!climber.isLicenceValid()">{{ climber.year }}</td>
                <td>{{climber.club ? climber.club : "?"}}</td>
                <td [class.kid]="!climber.isClimberAdult()">{{climber.birthDate}}</td>
                <td>
                    <span [class.special]="climber.getHighestPassport().special"
                        [style.background]="climber.getHighestPassport().color"></span>
                    &nbsp;{{ climber.getHighestPassport().shortname }}
                </td>
                <td>
                    <button class="icon" (click)="deleteClimberFromList(climber)">❌</button>
                </td>
            </tr>
        </tbody>

        <tfoot>
            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th *ngIf="climbers.length>0">Total : {{climbers.length}}</th>
            </tr>
        </tfoot>
    </table>
</div>

<form *ngIf="climbers.length>0" (submit)="exportTable($event)">
    <div>
        <label for="manager">Responsable: </label>
        <input [(ngModel)]="manager" required name="manager" type="text">
    </div>

    <div class="controls horizontal">
        <button class="danger" (click)="resetClimbersList()">Tout effacer</button>
        <button id="exportButton" type="submit">Exporter la liste</button>
    </div>
</form>